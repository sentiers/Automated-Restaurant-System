{"ast":null,"code":"'use strict';\n\nvar defaults = require('../core/core.defaults');\n\nvar elements = require('../elements/index');\n\nvar helpers = require('../helpers/index');\n\ndefaults._set('polarArea', {\n  scale: {\n    type: 'radialLinear',\n    angleLines: {\n      display: false\n    },\n    gridLines: {\n      circular: true\n    },\n    pointLabels: {\n      display: false\n    },\n    ticks: {\n      beginAtZero: true\n    }\n  },\n  // Boolean - Whether to animate the rotation of the chart\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  startAngle: -0.5 * Math.PI,\n  legendCallback: function (chart) {\n    var text = [];\n    text.push('<ul class=\"' + chart.id + '-legend\">');\n    var data = chart.data;\n    var datasets = data.datasets;\n    var labels = data.labels;\n\n    if (datasets.length) {\n      for (var i = 0; i < datasets[0].data.length; ++i) {\n        text.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\n        if (labels[i]) {\n          text.push(labels[i]);\n        }\n\n        text.push('</li>');\n      }\n    }\n\n    text.push('</ul>');\n    return text.join('');\n  },\n  legend: {\n    labels: {\n      generateLabels: function (chart) {\n        var data = chart.data;\n\n        if (data.labels.length && data.datasets.length) {\n          return data.labels.map(function (label, i) {\n            var meta = chart.getDatasetMeta(0);\n            var ds = data.datasets[0];\n            var arc = meta.data[i];\n            var custom = arc.custom || {};\n            var valueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n            var arcOpts = chart.options.elements.arc;\n            var fill = custom.backgroundColor ? custom.backgroundColor : valueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n            var stroke = custom.borderColor ? custom.borderColor : valueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n            var bw = custom.borderWidth ? custom.borderWidth : valueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n            return {\n              text: label,\n              fillStyle: fill,\n              strokeStyle: stroke,\n              lineWidth: bw,\n              hidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n              // Extra data used for toggling the correct item\n              index: i\n            };\n          });\n        }\n\n        return [];\n      }\n    },\n    onClick: function (e, legendItem) {\n      var index = legendItem.index;\n      var chart = this.chart;\n      var i, ilen, meta;\n\n      for (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n        meta = chart.getDatasetMeta(i);\n        meta.data[index].hidden = !meta.data[index].hidden;\n      }\n\n      chart.update();\n    }\n  },\n  // Need to override these to give a nice default\n  tooltips: {\n    callbacks: {\n      title: function () {\n        return '';\n      },\n      label: function (item, data) {\n        return data.labels[item.index] + ': ' + item.yLabel;\n      }\n    }\n  }\n});\n\nmodule.exports = function (Chart) {\n  Chart.controllers.polarArea = Chart.DatasetController.extend({\n    dataElementType: elements.Arc,\n    linkScales: helpers.noop,\n    update: function (reset) {\n      var me = this;\n      var dataset = me.getDataset();\n      var meta = me.getMeta();\n      var start = me.chart.options.startAngle || 0;\n      var starts = me._starts = [];\n      var angles = me._angles = [];\n      var i, ilen, angle;\n\n      me._updateRadius();\n\n      meta.count = me.countVisibleElements();\n\n      for (i = 0, ilen = dataset.data.length; i < ilen; i++) {\n        starts[i] = start;\n        angle = me._computeAngle(i);\n        angles[i] = angle;\n        start += angle;\n      }\n\n      helpers.each(meta.data, function (arc, index) {\n        me.updateElement(arc, index, reset);\n      });\n    },\n\n    /**\n     * @private\n     */\n    _updateRadius: function () {\n      var me = this;\n      var chart = me.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var arcOpts = opts.elements.arc;\n      var minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n      chart.outerRadius = Math.max((minSize - arcOpts.borderWidth / 2) / 2, 0);\n      chart.innerRadius = Math.max(opts.cutoutPercentage ? chart.outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n      chart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n      me.outerRadius = chart.outerRadius - chart.radiusLength * me.index;\n      me.innerRadius = me.outerRadius - chart.radiusLength;\n    },\n    updateElement: function (arc, index, reset) {\n      var me = this;\n      var chart = me.chart;\n      var dataset = me.getDataset();\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var scale = chart.scale;\n      var labels = chart.data.labels;\n      var centerX = scale.xCenter;\n      var centerY = scale.yCenter; // var negHalfPI = -0.5 * Math.PI;\n\n      var datasetStartAngle = opts.startAngle;\n      var distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n      var startAngle = me._starts[index];\n      var endAngle = startAngle + (arc.hidden ? 0 : me._angles[index]);\n      var resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n      helpers.extend(arc, {\n        // Utility\n        _datasetIndex: me.index,\n        _index: index,\n        _scale: scale,\n        // Desired view properties\n        _model: {\n          x: centerX,\n          y: centerY,\n          innerRadius: 0,\n          outerRadius: reset ? resetRadius : distance,\n          startAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\n          endAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\n          label: helpers.valueAtIndexOrDefault(labels, index, labels[index])\n        }\n      }); // Apply border and fill style\n\n      var elementOpts = this.chart.options.elements.arc;\n      var custom = arc.custom || {};\n      var valueOrDefault = helpers.valueAtIndexOrDefault;\n      var model = arc._model;\n      model.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n      model.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n      model.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n      arc.pivot();\n    },\n    countVisibleElements: function () {\n      var dataset = this.getDataset();\n      var meta = this.getMeta();\n      var count = 0;\n      helpers.each(meta.data, function (element, index) {\n        if (!isNaN(dataset.data[index]) && !element.hidden) {\n          count++;\n        }\n      });\n      return count;\n    },\n\n    /**\n     * @private\n     */\n    _computeAngle: function (index) {\n      var me = this;\n      var count = this.getMeta().count;\n      var dataset = me.getDataset();\n      var meta = me.getMeta();\n\n      if (isNaN(dataset.data[index]) || meta.data[index].hidden) {\n        return 0;\n      } // Scriptable options\n\n\n      var context = {\n        chart: me.chart,\n        dataIndex: index,\n        dataset: dataset,\n        datasetIndex: me.index\n      };\n      return helpers.options.resolve([me.chart.options.elements.arc.angle, 2 * Math.PI / count], context, index);\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/Administrator/.git/asdf/Source Files/node_modules/chart.js/src/controllers/controller.polarArea.js"],"names":["defaults","require","elements","helpers","_set","scale","type","angleLines","display","gridLines","circular","pointLabels","ticks","beginAtZero","animation","animateRotate","animateScale","startAngle","Math","PI","legendCallback","chart","text","push","id","data","datasets","labels","length","i","backgroundColor","join","legend","generateLabels","map","label","meta","getDatasetMeta","ds","arc","custom","valueAtIndexOrDefault","arcOpts","options","fill","stroke","borderColor","bw","borderWidth","fillStyle","strokeStyle","lineWidth","hidden","isNaN","index","onClick","e","legendItem","ilen","update","tooltips","callbacks","title","item","yLabel","module","exports","Chart","controllers","polarArea","DatasetController","extend","dataElementType","Arc","linkScales","noop","reset","me","dataset","getDataset","getMeta","start","starts","_starts","angles","_angles","angle","_updateRadius","count","countVisibleElements","_computeAngle","each","updateElement","chartArea","opts","minSize","min","right","left","bottom","top","outerRadius","max","innerRadius","cutoutPercentage","radiusLength","getVisibleDatasetCount","animationOpts","centerX","xCenter","centerY","yCenter","datasetStartAngle","distance","getDistanceFromCenterForValue","endAngle","resetRadius","_datasetIndex","_index","_scale","_model","x","y","elementOpts","valueOrDefault","model","pivot","element","context","dataIndex","datasetIndex","resolve"],"mappings":"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","sourcesContent":["'use strict';\n\nvar defaults = require('../core/core.defaults');\nvar elements = require('../elements/index');\nvar helpers = require('../helpers/index');\n\ndefaults._set('polarArea', {\n\tscale: {\n\t\ttype: 'radialLinear',\n\t\tangleLines: {\n\t\t\tdisplay: false\n\t\t},\n\t\tgridLines: {\n\t\t\tcircular: true\n\t\t},\n\t\tpointLabels: {\n\t\t\tdisplay: false\n\t\t},\n\t\tticks: {\n\t\t\tbeginAtZero: true\n\t\t}\n\t},\n\n\t// Boolean - Whether to animate the rotation of the chart\n\tanimation: {\n\t\tanimateRotate: true,\n\t\tanimateScale: true\n\t},\n\n\tstartAngle: -0.5 * Math.PI,\n\tlegendCallback: function(chart) {\n\t\tvar text = [];\n\t\ttext.push('<ul class=\"' + chart.id + '-legend\">');\n\n\t\tvar data = chart.data;\n\t\tvar datasets = data.datasets;\n\t\tvar labels = data.labels;\n\n\t\tif (datasets.length) {\n\t\t\tfor (var i = 0; i < datasets[0].data.length; ++i) {\n\t\t\t\ttext.push('<li><span style=\"background-color:' + datasets[0].backgroundColor[i] + '\"></span>');\n\t\t\t\tif (labels[i]) {\n\t\t\t\t\ttext.push(labels[i]);\n\t\t\t\t}\n\t\t\t\ttext.push('</li>');\n\t\t\t}\n\t\t}\n\n\t\ttext.push('</ul>');\n\t\treturn text.join('');\n\t},\n\tlegend: {\n\t\tlabels: {\n\t\t\tgenerateLabels: function(chart) {\n\t\t\t\tvar data = chart.data;\n\t\t\t\tif (data.labels.length && data.datasets.length) {\n\t\t\t\t\treturn data.labels.map(function(label, i) {\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\t\t\t\tvar ds = data.datasets[0];\n\t\t\t\t\t\tvar arc = meta.data[i];\n\t\t\t\t\t\tvar custom = arc.custom || {};\n\t\t\t\t\t\tvar valueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n\t\t\t\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\t\t\t\tvar fill = custom.backgroundColor ? custom.backgroundColor : valueAtIndexOrDefault(ds.backgroundColor, i, arcOpts.backgroundColor);\n\t\t\t\t\t\tvar stroke = custom.borderColor ? custom.borderColor : valueAtIndexOrDefault(ds.borderColor, i, arcOpts.borderColor);\n\t\t\t\t\t\tvar bw = custom.borderWidth ? custom.borderWidth : valueAtIndexOrDefault(ds.borderWidth, i, arcOpts.borderWidth);\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttext: label,\n\t\t\t\t\t\t\tfillStyle: fill,\n\t\t\t\t\t\t\tstrokeStyle: stroke,\n\t\t\t\t\t\t\tlineWidth: bw,\n\t\t\t\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\n\t\tonClick: function(e, legendItem) {\n\t\t\tvar index = legendItem.index;\n\t\t\tvar chart = this.chart;\n\t\t\tvar i, ilen, meta;\n\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\n\t\t\t\tmeta = chart.getDatasetMeta(i);\n\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\n\t\t\t}\n\n\t\t\tchart.update();\n\t\t}\n\t},\n\n\t// Need to override these to give a nice default\n\ttooltips: {\n\t\tcallbacks: {\n\t\t\ttitle: function() {\n\t\t\t\treturn '';\n\t\t\t},\n\t\t\tlabel: function(item, data) {\n\t\t\t\treturn data.labels[item.index] + ': ' + item.yLabel;\n\t\t\t}\n\t\t}\n\t}\n});\n\nmodule.exports = function(Chart) {\n\n\tChart.controllers.polarArea = Chart.DatasetController.extend({\n\n\t\tdataElementType: elements.Arc,\n\n\t\tlinkScales: helpers.noop,\n\n\t\tupdate: function(reset) {\n\t\t\tvar me = this;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar meta = me.getMeta();\n\t\t\tvar start = me.chart.options.startAngle || 0;\n\t\t\tvar starts = me._starts = [];\n\t\t\tvar angles = me._angles = [];\n\t\t\tvar i, ilen, angle;\n\n\t\t\tme._updateRadius();\n\n\t\t\tmeta.count = me.countVisibleElements();\n\n\t\t\tfor (i = 0, ilen = dataset.data.length; i < ilen; i++) {\n\t\t\t\tstarts[i] = start;\n\t\t\t\tangle = me._computeAngle(i);\n\t\t\t\tangles[i] = angle;\n\t\t\t\tstart += angle;\n\t\t\t}\n\n\t\t\thelpers.each(meta.data, function(arc, index) {\n\t\t\t\tme.updateElement(arc, index, reset);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\t_updateRadius: function() {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar chartArea = chart.chartArea;\n\t\t\tvar opts = chart.options;\n\t\t\tvar arcOpts = opts.elements.arc;\n\t\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n\t\t\tchart.outerRadius = Math.max((minSize - arcOpts.borderWidth / 2) / 2, 0);\n\t\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n\t\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\n\n\t\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\n\t\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\n\t\t},\n\n\t\tupdateElement: function(arc, index, reset) {\n\t\t\tvar me = this;\n\t\t\tvar chart = me.chart;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar opts = chart.options;\n\t\t\tvar animationOpts = opts.animation;\n\t\t\tvar scale = chart.scale;\n\t\t\tvar labels = chart.data.labels;\n\n\t\t\tvar centerX = scale.xCenter;\n\t\t\tvar centerY = scale.yCenter;\n\n\t\t\t// var negHalfPI = -0.5 * Math.PI;\n\t\t\tvar datasetStartAngle = opts.startAngle;\n\t\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\t\t\tvar startAngle = me._starts[index];\n\t\t\tvar endAngle = startAngle + (arc.hidden ? 0 : me._angles[index]);\n\n\t\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\n\n\t\t\thelpers.extend(arc, {\n\t\t\t\t// Utility\n\t\t\t\t_datasetIndex: me.index,\n\t\t\t\t_index: index,\n\t\t\t\t_scale: scale,\n\n\t\t\t\t// Desired view properties\n\t\t\t\t_model: {\n\t\t\t\t\tx: centerX,\n\t\t\t\t\ty: centerY,\n\t\t\t\t\tinnerRadius: 0,\n\t\t\t\t\touterRadius: reset ? resetRadius : distance,\n\t\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\n\t\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\n\t\t\t\t\tlabel: helpers.valueAtIndexOrDefault(labels, index, labels[index])\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply border and fill style\n\t\t\tvar elementOpts = this.chart.options.elements.arc;\n\t\t\tvar custom = arc.custom || {};\n\t\t\tvar valueOrDefault = helpers.valueAtIndexOrDefault;\n\t\t\tvar model = arc._model;\n\n\t\t\tmodel.backgroundColor = custom.backgroundColor ? custom.backgroundColor : valueOrDefault(dataset.backgroundColor, index, elementOpts.backgroundColor);\n\t\t\tmodel.borderColor = custom.borderColor ? custom.borderColor : valueOrDefault(dataset.borderColor, index, elementOpts.borderColor);\n\t\t\tmodel.borderWidth = custom.borderWidth ? custom.borderWidth : valueOrDefault(dataset.borderWidth, index, elementOpts.borderWidth);\n\n\t\t\tarc.pivot();\n\t\t},\n\n\t\tcountVisibleElements: function() {\n\t\t\tvar dataset = this.getDataset();\n\t\t\tvar meta = this.getMeta();\n\t\t\tvar count = 0;\n\n\t\t\thelpers.each(meta.data, function(element, index) {\n\t\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn count;\n\t\t},\n\n\t\t/**\n\t\t * @private\n\t\t */\n\t\t_computeAngle: function(index) {\n\t\t\tvar me = this;\n\t\t\tvar count = this.getMeta().count;\n\t\t\tvar dataset = me.getDataset();\n\t\t\tvar meta = me.getMeta();\n\n\t\t\tif (isNaN(dataset.data[index]) || meta.data[index].hidden) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\t// Scriptable options\n\t\t\tvar context = {\n\t\t\t\tchart: me.chart,\n\t\t\t\tdataIndex: index,\n\t\t\t\tdataset: dataset,\n\t\t\t\tdatasetIndex: me.index\n\t\t\t};\n\n\t\t\treturn helpers.options.resolve([\n\t\t\t\tme.chart.options.elements.arc.angle,\n\t\t\t\t(2 * Math.PI) / count\n\t\t\t], context, index);\n\t\t}\n\t});\n};\n"]},"metadata":{},"sourceType":"script"}