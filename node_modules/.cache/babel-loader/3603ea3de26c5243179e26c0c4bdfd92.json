{"ast":null,"code":"'use strict';\n\nvar defaults = require('../core/core.defaults');\n\nvar Element = require('../core/core.element');\n\nvar helpers = require('../helpers/index');\n\nvar layouts = require('../core/core.layouts');\n\nvar noop = helpers.noop;\n\ndefaults._set('global', {\n  title: {\n    display: false,\n    fontStyle: 'bold',\n    fullWidth: true,\n    lineHeight: 1.2,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000 // by default greater than legend (1000) to be above\n\n  }\n});\n/**\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\n */\n\n\nvar Title = Element.extend({\n  initialize: function (config) {\n    var me = this;\n    helpers.extend(me, config); // Contains hit boxes for each dataset (in dataset order)\n\n    me.legendHitBoxes = [];\n  },\n  // These methods are ordered by lifecycle. Utilities then follow.\n  beforeUpdate: noop,\n  update: function (maxWidth, maxHeight, margins) {\n    var me = this; // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\n    me.beforeUpdate(); // Absorb the master measurements\n\n    me.maxWidth = maxWidth;\n    me.maxHeight = maxHeight;\n    me.margins = margins; // Dimensions\n\n    me.beforeSetDimensions();\n    me.setDimensions();\n    me.afterSetDimensions(); // Labels\n\n    me.beforeBuildLabels();\n    me.buildLabels();\n    me.afterBuildLabels(); // Fit\n\n    me.beforeFit();\n    me.fit();\n    me.afterFit(); //\n\n    me.afterUpdate();\n    return me.minSize;\n  },\n  afterUpdate: noop,\n  //\n  beforeSetDimensions: noop,\n  setDimensions: function () {\n    var me = this; // Set the unconstrained dimension before label rotation\n\n    if (me.isHorizontal()) {\n      // Reset position before calculating rotation\n      me.width = me.maxWidth;\n      me.left = 0;\n      me.right = me.width;\n    } else {\n      me.height = me.maxHeight; // Reset position before calculating rotation\n\n      me.top = 0;\n      me.bottom = me.height;\n    } // Reset padding\n\n\n    me.paddingLeft = 0;\n    me.paddingTop = 0;\n    me.paddingRight = 0;\n    me.paddingBottom = 0; // Reset minSize\n\n    me.minSize = {\n      width: 0,\n      height: 0\n    };\n  },\n  afterSetDimensions: noop,\n  //\n  beforeBuildLabels: noop,\n  buildLabels: noop,\n  afterBuildLabels: noop,\n  //\n  beforeFit: noop,\n  fit: function () {\n    var me = this;\n    var valueOrDefault = helpers.valueOrDefault;\n    var opts = me.options;\n    var display = opts.display;\n    var fontSize = valueOrDefault(opts.fontSize, defaults.global.defaultFontSize);\n    var minSize = me.minSize;\n    var lineCount = helpers.isArray(opts.text) ? opts.text.length : 1;\n    var lineHeight = helpers.options.toLineHeight(opts.lineHeight, fontSize);\n    var textSize = display ? lineCount * lineHeight + opts.padding * 2 : 0;\n\n    if (me.isHorizontal()) {\n      minSize.width = me.maxWidth; // fill all the width\n\n      minSize.height = textSize;\n    } else {\n      minSize.width = textSize;\n      minSize.height = me.maxHeight; // fill all the height\n    }\n\n    me.width = minSize.width;\n    me.height = minSize.height;\n  },\n  afterFit: noop,\n  // Shared Methods\n  isHorizontal: function () {\n    var pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  },\n  // Actually draw the title block on the canvas\n  draw: function () {\n    var me = this;\n    var ctx = me.ctx;\n    var valueOrDefault = helpers.valueOrDefault;\n    var opts = me.options;\n    var globalDefaults = defaults.global;\n\n    if (opts.display) {\n      var fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize);\n      var fontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle);\n      var fontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily);\n      var titleFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n      var lineHeight = helpers.options.toLineHeight(opts.lineHeight, fontSize);\n      var offset = lineHeight / 2 + opts.padding;\n      var rotation = 0;\n      var top = me.top;\n      var left = me.left;\n      var bottom = me.bottom;\n      var right = me.right;\n      var maxWidth, titleX, titleY;\n      ctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); // render in correct colour\n\n      ctx.font = titleFont; // Horizontal\n\n      if (me.isHorizontal()) {\n        titleX = left + (right - left) / 2; // midpoint of the width\n\n        titleY = top + offset;\n        maxWidth = right - left;\n      } else {\n        titleX = opts.position === 'left' ? left + offset : right - offset;\n        titleY = top + (bottom - top) / 2;\n        maxWidth = bottom - top;\n        rotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\n      }\n\n      ctx.save();\n      ctx.translate(titleX, titleY);\n      ctx.rotate(rotation);\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      var text = opts.text;\n\n      if (helpers.isArray(text)) {\n        var y = 0;\n\n        for (var i = 0; i < text.length; ++i) {\n          ctx.fillText(text[i], 0, y, maxWidth);\n          y += lineHeight;\n        }\n      } else {\n        ctx.fillText(text, 0, 0, maxWidth);\n      }\n\n      ctx.restore();\n    }\n  }\n});\n\nfunction createNewTitleBlockAndAttach(chart, titleOpts) {\n  var title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart: chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nmodule.exports = {\n  id: 'title',\n\n  /**\n   * Backward compatibility: since 2.1.5, the title is registered as a plugin, making\n   * Chart.Title obsolete. To avoid a breaking change, we export the Title as part of\n   * the plugin, which one will be re-exposed in the chart.js file.\n   * https://github.com/chartjs/Chart.js/pull/2640\n   * @private\n   */\n  _element: Title,\n  beforeInit: function (chart) {\n    var titleOpts = chart.options.title;\n\n    if (titleOpts) {\n      createNewTitleBlockAndAttach(chart, titleOpts);\n    }\n  },\n  beforeUpdate: function (chart) {\n    var titleOpts = chart.options.title;\n    var titleBlock = chart.titleBlock;\n\n    if (titleOpts) {\n      helpers.mergeIf(titleOpts, defaults.global.title);\n\n      if (titleBlock) {\n        layouts.configure(chart, titleBlock, titleOpts);\n        titleBlock.options = titleOpts;\n      } else {\n        createNewTitleBlockAndAttach(chart, titleOpts);\n      }\n    } else if (titleBlock) {\n      layouts.removeBox(chart, titleBlock);\n      delete chart.titleBlock;\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/Administrator/.git/asdf/Source Files/node_modules/chart.js/src/plugins/plugin.title.js"],"names":["defaults","require","Element","helpers","layouts","noop","_set","title","display","fontStyle","fullWidth","lineHeight","padding","position","text","weight","Title","extend","initialize","config","me","legendHitBoxes","beforeUpdate","update","maxWidth","maxHeight","margins","beforeSetDimensions","setDimensions","afterSetDimensions","beforeBuildLabels","buildLabels","afterBuildLabels","beforeFit","fit","afterFit","afterUpdate","minSize","isHorizontal","width","left","right","height","top","bottom","paddingLeft","paddingTop","paddingRight","paddingBottom","valueOrDefault","opts","options","fontSize","global","defaultFontSize","lineCount","isArray","length","toLineHeight","textSize","pos","draw","ctx","globalDefaults","defaultFontStyle","fontFamily","defaultFontFamily","titleFont","fontString","offset","rotation","titleX","titleY","fillStyle","fontColor","defaultFontColor","font","Math","PI","save","translate","rotate","textAlign","textBaseline","y","i","fillText","restore","createNewTitleBlockAndAttach","chart","titleOpts","configure","addBox","titleBlock","module","exports","id","_element","beforeInit","mergeIf","removeBox"],"mappings":"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","sourcesContent":["'use strict';\n\nvar defaults = require('../core/core.defaults');\nvar Element = require('../core/core.element');\nvar helpers = require('../helpers/index');\nvar layouts = require('../core/core.layouts');\n\nvar noop = helpers.noop;\n\ndefaults._set('global', {\n\ttitle: {\n\t\tdisplay: false,\n\t\tfontStyle: 'bold',\n\t\tfullWidth: true,\n\t\tlineHeight: 1.2,\n\t\tpadding: 10,\n\t\tposition: 'top',\n\t\ttext: '',\n\t\tweight: 2000         // by default greater than legend (1000) to be above\n\t}\n});\n\n/**\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\n */\nvar Title = Element.extend({\n\tinitialize: function(config) {\n\t\tvar me = this;\n\t\thelpers.extend(me, config);\n\n\t\t// Contains hit boxes for each dataset (in dataset order)\n\t\tme.legendHitBoxes = [];\n\t},\n\n\t// These methods are ordered by lifecycle. Utilities then follow.\n\n\tbeforeUpdate: noop,\n\tupdate: function(maxWidth, maxHeight, margins) {\n\t\tvar me = this;\n\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n\t\tme.beforeUpdate();\n\n\t\t// Absorb the master measurements\n\t\tme.maxWidth = maxWidth;\n\t\tme.maxHeight = maxHeight;\n\t\tme.margins = margins;\n\n\t\t// Dimensions\n\t\tme.beforeSetDimensions();\n\t\tme.setDimensions();\n\t\tme.afterSetDimensions();\n\t\t// Labels\n\t\tme.beforeBuildLabels();\n\t\tme.buildLabels();\n\t\tme.afterBuildLabels();\n\n\t\t// Fit\n\t\tme.beforeFit();\n\t\tme.fit();\n\t\tme.afterFit();\n\t\t//\n\t\tme.afterUpdate();\n\n\t\treturn me.minSize;\n\n\t},\n\tafterUpdate: noop,\n\n\t//\n\n\tbeforeSetDimensions: noop,\n\tsetDimensions: function() {\n\t\tvar me = this;\n\t\t// Set the unconstrained dimension before label rotation\n\t\tif (me.isHorizontal()) {\n\t\t\t// Reset position before calculating rotation\n\t\t\tme.width = me.maxWidth;\n\t\t\tme.left = 0;\n\t\t\tme.right = me.width;\n\t\t} else {\n\t\t\tme.height = me.maxHeight;\n\n\t\t\t// Reset position before calculating rotation\n\t\t\tme.top = 0;\n\t\t\tme.bottom = me.height;\n\t\t}\n\n\t\t// Reset padding\n\t\tme.paddingLeft = 0;\n\t\tme.paddingTop = 0;\n\t\tme.paddingRight = 0;\n\t\tme.paddingBottom = 0;\n\n\t\t// Reset minSize\n\t\tme.minSize = {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t};\n\t},\n\tafterSetDimensions: noop,\n\n\t//\n\n\tbeforeBuildLabels: noop,\n\tbuildLabels: noop,\n\tafterBuildLabels: noop,\n\n\t//\n\n\tbeforeFit: noop,\n\tfit: function() {\n\t\tvar me = this;\n\t\tvar valueOrDefault = helpers.valueOrDefault;\n\t\tvar opts = me.options;\n\t\tvar display = opts.display;\n\t\tvar fontSize = valueOrDefault(opts.fontSize, defaults.global.defaultFontSize);\n\t\tvar minSize = me.minSize;\n\t\tvar lineCount = helpers.isArray(opts.text) ? opts.text.length : 1;\n\t\tvar lineHeight = helpers.options.toLineHeight(opts.lineHeight, fontSize);\n\t\tvar textSize = display ? (lineCount * lineHeight) + (opts.padding * 2) : 0;\n\n\t\tif (me.isHorizontal()) {\n\t\t\tminSize.width = me.maxWidth; // fill all the width\n\t\t\tminSize.height = textSize;\n\t\t} else {\n\t\t\tminSize.width = textSize;\n\t\t\tminSize.height = me.maxHeight; // fill all the height\n\t\t}\n\n\t\tme.width = minSize.width;\n\t\tme.height = minSize.height;\n\n\t},\n\tafterFit: noop,\n\n\t// Shared Methods\n\tisHorizontal: function() {\n\t\tvar pos = this.options.position;\n\t\treturn pos === 'top' || pos === 'bottom';\n\t},\n\n\t// Actually draw the title block on the canvas\n\tdraw: function() {\n\t\tvar me = this;\n\t\tvar ctx = me.ctx;\n\t\tvar valueOrDefault = helpers.valueOrDefault;\n\t\tvar opts = me.options;\n\t\tvar globalDefaults = defaults.global;\n\n\t\tif (opts.display) {\n\t\t\tvar fontSize = valueOrDefault(opts.fontSize, globalDefaults.defaultFontSize);\n\t\t\tvar fontStyle = valueOrDefault(opts.fontStyle, globalDefaults.defaultFontStyle);\n\t\t\tvar fontFamily = valueOrDefault(opts.fontFamily, globalDefaults.defaultFontFamily);\n\t\t\tvar titleFont = helpers.fontString(fontSize, fontStyle, fontFamily);\n\t\t\tvar lineHeight = helpers.options.toLineHeight(opts.lineHeight, fontSize);\n\t\t\tvar offset = lineHeight / 2 + opts.padding;\n\t\t\tvar rotation = 0;\n\t\t\tvar top = me.top;\n\t\t\tvar left = me.left;\n\t\t\tvar bottom = me.bottom;\n\t\t\tvar right = me.right;\n\t\t\tvar maxWidth, titleX, titleY;\n\n\t\t\tctx.fillStyle = valueOrDefault(opts.fontColor, globalDefaults.defaultFontColor); // render in correct colour\n\t\t\tctx.font = titleFont;\n\n\t\t\t// Horizontal\n\t\t\tif (me.isHorizontal()) {\n\t\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\n\t\t\t\ttitleY = top + offset;\n\t\t\t\tmaxWidth = right - left;\n\t\t\t} else {\n\t\t\t\ttitleX = opts.position === 'left' ? left + offset : right - offset;\n\t\t\t\ttitleY = top + ((bottom - top) / 2);\n\t\t\t\tmaxWidth = bottom - top;\n\t\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\n\t\t\t}\n\n\t\t\tctx.save();\n\t\t\tctx.translate(titleX, titleY);\n\t\t\tctx.rotate(rotation);\n\t\t\tctx.textAlign = 'center';\n\t\t\tctx.textBaseline = 'middle';\n\n\t\t\tvar text = opts.text;\n\t\t\tif (helpers.isArray(text)) {\n\t\t\t\tvar y = 0;\n\t\t\t\tfor (var i = 0; i < text.length; ++i) {\n\t\t\t\t\tctx.fillText(text[i], 0, y, maxWidth);\n\t\t\t\t\ty += lineHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tctx.fillText(text, 0, 0, maxWidth);\n\t\t\t}\n\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nfunction createNewTitleBlockAndAttach(chart, titleOpts) {\n\tvar title = new Title({\n\t\tctx: chart.ctx,\n\t\toptions: titleOpts,\n\t\tchart: chart\n\t});\n\n\tlayouts.configure(chart, title, titleOpts);\n\tlayouts.addBox(chart, title);\n\tchart.titleBlock = title;\n}\n\nmodule.exports = {\n\tid: 'title',\n\n\t/**\n\t * Backward compatibility: since 2.1.5, the title is registered as a plugin, making\n\t * Chart.Title obsolete. To avoid a breaking change, we export the Title as part of\n\t * the plugin, which one will be re-exposed in the chart.js file.\n\t * https://github.com/chartjs/Chart.js/pull/2640\n\t * @private\n\t */\n\t_element: Title,\n\n\tbeforeInit: function(chart) {\n\t\tvar titleOpts = chart.options.title;\n\n\t\tif (titleOpts) {\n\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\n\t\t}\n\t},\n\n\tbeforeUpdate: function(chart) {\n\t\tvar titleOpts = chart.options.title;\n\t\tvar titleBlock = chart.titleBlock;\n\n\t\tif (titleOpts) {\n\t\t\thelpers.mergeIf(titleOpts, defaults.global.title);\n\n\t\t\tif (titleBlock) {\n\t\t\t\tlayouts.configure(chart, titleBlock, titleOpts);\n\t\t\t\ttitleBlock.options = titleOpts;\n\t\t\t} else {\n\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\n\t\t\t}\n\t\t} else if (titleBlock) {\n\t\t\tlayouts.removeBox(chart, titleBlock);\n\t\t\tdelete chart.titleBlock;\n\t\t}\n\t}\n};\n"]},"metadata":{},"sourceType":"script"}